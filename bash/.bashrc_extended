# Default home for any tweaking I do

# add timestamp to each entry in the history
HISTTIMEFORMAT="%F %T  "

# Disable XON/XOFF so I can use <C-s> to search forward through command history
stty -ixon

# For virtualenvwrapper, if it's set up
python_virtual_env_wrapper_script="${HOME}/.local/bin/virtualenvwrapper.sh"

if [[ -e ${python_virtual_env_wrapper_script} ]]; then
    python_virtual_env_dir="${HOME}/virtualenvs"

    if [[ ! -e ${python_virtual_env_dir} ]]; then
        mkdir ${python_virtual_env_dir}
    fi

    export WORKON_HOME=${python_virtual_env_dir}
    export VIRTUALENVWRAPPER_PYTHON='/usr/bin/python3'
    source ${python_virtual_env_wrapper_script}
fi

# Most likely cause of this line was running the following:
#  git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
#  ~/.fzf/install
# Allegation: "Control R or start typing to auto complete."
[ -f ~/.fzf.bash ] && source ~/.fzf.bash

# git-completion.bash may need to be downloaded:
#  curl https://raw.githubusercontent.com/git/git/master/contrib/completion/git-completion.bash -o ~/.git-completion.bash
# It's probably safest to replace "master" with your installed version
# (e.g. "v2.39.1")
[ -f ~/.git-completion.bash ] && source ~/.git-completion.bash

# For default editor
export EDITOR='vim'

# Default to Windows git executable on Windows filesystem
# Attempting to address performance issues when running git on the Windows
# filesystem from WSL
# Source: https://stackoverflow.com/a/67703693
function git() {
    if $(pwd -P | grep -q "^\/mnt\/c\/*"); then
        git.exe "$@"
    else
        command git "$@"
    fi
}

# Git prompt (useful for custom PS1, at bare minimum)
source ~/.git-bash-prompt.sh
